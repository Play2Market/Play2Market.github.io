<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Assistente - Painel</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet" />
<style>
  /* ... (mantém todo o CSS anterior) ... */

  /* Título e descrição mais limpos */
  #func-title {
    margin: 0 0 8px 0;
    font-weight: 700;
    font-size: 2rem;
    text-align: center;
    letter-spacing: 0.03em;
  }
  #func-desc {
    font-size: 1.2rem;
    color: #bbb;
    margin: 0 0 24px 0;
    text-align: center;
    line-height: 1.4;
    max-width: 500px;
  }

  /* Botões de seleção */
  .btn-group {
    display: flex;
    gap: 16px;
    margin-bottom: 30px;
  }
  .btn-select {
    padding: 10px 24px;
    font-size: 1rem;
    font-weight: 600;
    background-color: transparent;
    color: #eee;
    border: 2px solid transparent;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s, border-color 0.3s;
    user-select: none;
  }
  .btn-select:hover {
    background-color: rgba(255,255,255,0.1);
  }
  .btn-select.active {
    background-color: #4caf50;
    border-color: #4caf50;
    color: #fff;
    box-shadow: 0 0 8px #4caf50aa;
  }

</style>
</head>
<body>
  <!-- Mantém botão toggle e menu como antes -->

  <main id="content" tabindex="-1">
    <section id="func-panel" tabindex="-1" aria-live="polite" aria-label="Painel de configuração">
      <h2 id="func-title">Construção Automática</h2>
      <p id="func-desc">Automatiza a construção e melhoria de edifícios.</p>

      <div class="btn-group" role="group" aria-label="Seleção de modo">
        <button type="button" class="btn-select active" id="btn-padrao">PADRÃO</button>
        <button type="button" class="btn-select" id="btn-recursos">RECURSOS</button>
      </div>

      <div class="switch-group">
        <label class="switch-label" for="save-config-switch">
          Salvar Configuração
          <label class="switch">
            <input type="checkbox" id="save-config-switch" />
            <span class="slider"></span>
          </label>
        </label>
        <label class="switch-label" for="enable-module-switch">
          Habilitar Módulo
          <label class="switch">
            <input type="checkbox" id="enable-module-switch" />
            <span class="slider"></span>
          </label>
        </label>
      </div>
      <div id="console" aria-live="polite" aria-atomic="false" role="log" tabindex="0"></div>
    </section>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // (Mantém o resto do código anterior)

      const btnPadrao = document.getElementById('btn-padrao');
      const btnRecursos = document.getElementById('btn-recursos');

      function setActiveButton(selectedBtn) {
        [btnPadrao, btnRecursos].forEach(btn => {
          btn.classList.toggle('active', btn === selectedBtn);
        });
        log(`Modo selecionado: ${selectedBtn.textContent}`);
      }

      btnPadrao.addEventListener('click', () => setActiveButton(btnPadrao));
      btnRecursos.addEventListener('click', () => setActiveButton(btnRecursos));

      // Atualiza título, descrição e reseta botão ao abrir painel
      function updatePanel(func) {
        currentFunc = func;
        const btn = buttonsNamed[func];
        funcTitle.textContent = btn?.querySelector('img')?.alt || func.charAt(0).toUpperCase() + func.slice(1) + ' Automático';
        funcDesc.textContent = descriptions[func] || '';

        saveSwitch.checked = localStorage.getItem(LS_SAVE_PREFIX + func) === 'true';
        enableSwitch.checked = localStorage.getItem(LS_ENABLE_PREFIX + func) === 'true';

        funcPanel.style.display = 'flex';

        buttons.forEach(btn => {
          btn.classList.toggle('active', btn.dataset.func === func);
          btn.setAttribute('aria-pressed', btn.dataset.func === func ? 'true' : 'false');
        });

        // Reseta botões de seleção para PADRÃO ao abrir
        setActiveButton(btnPadrao);

        log(`Painel aberto: ${funcTitle.textContent}`);
        log(`Salvar Configuração: ${saveSwitch.checked}`);
        log(`Habilitar Módulo: ${enableSwitch.checked}`);

        funcPanel.focus();
      }

      // ... resto do código permanece igual ...

    });
  </script>
</body>
</html>
